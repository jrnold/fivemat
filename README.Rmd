# fivemat: Better formatting for R

The **fivemat** package provides better formatting for R numbers. 
It has similar functionality to the base R functions `sprintf`, `prettyNum` and `formatC`, but with more features and support for locales.

This package is primarily a port  of the Javascript library [d3-format](https://github.com/d3/d3-format/blob/master/README.md).

# Installation

**fivemat** is not on CRAN, you can install the development version 
from github with
```{r}
# install.packages("devtools")
devtools::install_github("jrnold/fivemat")
```

# Usage

The `fmt` function is the primary function in the package.
The formatting is defined using a mini-language similar to `sprintf`.
Some examples include:

A rounded percetage,
```{r}
fmt(0.123, ".0%")
```
a localized fixed-point currency,
```{r}
fmt(-3.5, "($.2f", locale = "en-GB")
fmt(-3.5, "($.2f", locale = "en-US")
```
a space-filled and signed number,
```{r}
fmt(42, "+20")
```
a dot-filled and centered number,
```{r}
fmt(42, ".^20")
```
a SI-prefixed number with two significant digits,
```{r}
fmt(42e6, ".2s")   # SI-prefix with two significant digits, "42M"
```
a prefixed lowercase hexadecimal number,
```{r}
fmt(48879, "#x")
```
a number grouped by thousands with two-significant digits,
```{r}
fmt(4223, ",.2r")
```

The `si` argument can be used to apply a common SI-prefix to all the values.
```{r}
fmt(c(0.00042, 0.0042), spec = ",.0", si = 1e-6)
```

Additionally, formats can be saved as a function object to be reused,
```{r}
formatter <- fmt_new(",.2f")
formatter(c(1, 100, 1000, 1050, 1.50))
formatter(rnorm(5))
```
